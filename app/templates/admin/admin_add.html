{% extends 'admin/admin.html' %}

{% block css %}
  <style>
    * {
      font-family: "Microsoft YaHei";
    }

    .table > tbody > tr > td,
    .table > tbody > tr > th,
    .table > tfoot > tr > td,
    .table > tfoot > tr > th,
    .table > thead > tr > td,
    .table > thead > tr > th {
      vertical-align: middle;
      text-align: center;
    }

    #auth_list .col-md-12, #auth_list .col-md-2 {
      padding: 0;
    }
  </style>
{% endblock %}

{% block content %}
  <section class="content-header">
    <h1>微电影管理系统</h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i> 管理员管理</a></li>
      <li class="active">添加管理员</li>
    </ol>
  </section>
  {% for msg in get_flashed_messages(category_filter=["ok"]) %}
    <div class="alert alert-success alert-dismissible">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
      <h4><i class="icon fa fa-check"></i> 添加成功</h4>
      {{ msg }}
    </div>
  {% endfor %}
  <section class="content" id="showcontent">
    <div class="row">
      <div class="col-md-12">
        <div class="box box-primary">
          <div class="box-header with-border">
            <h3 class="box-title">添加管理员</h3>
          </div>
          <form role="form" method="post">
            {{ form.csrf_token }}
            <div class="box-body">
              <div class="form-group">
                <label for="input_name">{{ form.name.label }}</label>
                {{ form.name }}
                {% for err in form.name.errors %}
                  <div class="col-md-12">
                    <span style="color: red;">{{ err }}</span>
                  </div>
                {% endfor %}
              </div>
              <div class="form-group">
                <label for="input_pwd">{{ form.pwd.label }}</label>
                {{ form.pwd }}
                {% for err in form.pwd.errors %}
                  <div class="col-md-12">
                    <span style="color: red;">{{ err }}</span>
                  </div>
                {% endfor %}
              </div>
              <div class="form-group">
                <label for="input_re_pwd">{{ form.repwd.label }}</label>
                {{ form.repwd }}
                {% for err in form.repwd.errors %}
                  <div class="col-md-12">
                    <span style="color: red;">{{ err }}</span>
                  </div>
                {% endfor %}
              </div>
              <div class="form-group">
                <label for="input_role_id">{{ form.role_id.label }}</label>
                {{ form.role_id }}
                {% for err in form.role_id.errors %}
                  <div class="col-md-12">
                    <span style="color: red;">{{ err }}</span>
                  </div>
                {% endfor %}
              </div>
            </div>
            <div class="box-footer">
              {{ form.submit }}
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block js %}
  <script>
    $(function () {
      $('#g-11').addClass('active');
      $('#g-11-1').addClass('active');
    })
  </script>
{% endblock %}
